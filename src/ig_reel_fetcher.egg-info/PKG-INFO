Metadata-Version: 2.4
Name: ig_reel_fetcher
Version: 0.1.0
Summary: Download Instagram Reels by URL using Instaloader (no Meta API).
Author: ig_reel_fetcher
Requires-Python: >=3.9
Description-Content-Type: text/markdown
Requires-Dist: instaloader>=4.14.2
Requires-Dist: python-dotenv>=1.0
Requires-Dist: rich>=13
Requires-Dist: pydantic>=2

# ig_reel_fetcher

Download Instagram Reels (or Posts) by URL using the Instaloader Python module — no Meta API or tokens required.

### Features
- Accepts 1..N Instagram URLs (reels or posts)
- Resolves each URL → shortcode → Instaloader Post
- Optional login via session file or interactive login; can save session
- Downloads video (MP4) + caption (.txt) + metadata (.json)
- Deterministic filenames: `{shortcode}.mp4`, `{shortcode}.json`, `{shortcode}.txt`
- Clear CLI messages and non-zero exit codes on failure

## Install

Requires Python 3.11+.

```bash
pip install -e .
# or pin instaloader explicitly
pip install instaloader==4.14.2
```

## .env

Copy `.env.example` to `.env` and adjust as needed:

```
OUT_DIR=./out
REQUEST_TIMEOUT=60
MAX_CONNECTION_ATTEMPTS=3
SESSION_FILE=
IG_USERNAME=
IG_PASSWORD=
USER_AGENT=
```

## Usage

Public (anonymous; may fail for some posts):

```bash
python -m src.cli --urls https://www.instagram.com/reel/XXXX/
```

With session (recommended):

```bash
# First time: create/load session interactively
python -m src.cli --urls https://www.instagram.com/reel/XXXX/ \
  --username your_username --session-file ./.session --interactive-login

# Subsequent runs (reuses saved session)
python -m src.cli --urls https://www.instagram.com/reel/XXXX/ \
  --username your_username --session-file ./.session
```

2FA is supported by Instaloader; when using `--interactive-login`, Instaloader will prompt for the code if needed.

### Output

Files are written under `out/reels/` by default:
- `{shortcode}.mp4`
- `{shortcode}.json`
- `{shortcode}.txt`

### Notes & limitations
- Instagram can change at any time; keep Instaloader up to date.
- Respect Instagram’s Terms of Use.
- Some posts require login or may still fail due to rate limits/challenges.


